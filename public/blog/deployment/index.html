<!doctype html><html data-theme=light lang=en><head><meta charset=UTF-8><meta content="width=device-width,initial-scale=1.0" name=viewport><title>~/ben • Automated Deployment with GitHub Actions and FTP</title><link href=https://ben-tannheimer.ch/img/seedling.png rel=icon type=image/png><link href='data:image/svg+xml,<svg xmlns=%22http://www.w3.org/2000/svg" viewBox="0 0 105 55"><text y=".7em" font-size="90">🔧</text></svg>' rel=icon><link href=https://ben-tannheimer.ch/atom.xml rel=alternate title=~/ben type=application/atom+xml><link href=https://ben-tannheimer.ch/custom_subset.css rel=stylesheet><link href="https://ben-tannheimer.ch/main.css?h=f46b38e0d9c612c62623" rel=stylesheet><link href="https://ben-tannheimer.ch/skins/monochrome.css?h=a7b3a267cdca9eae5a65" rel=stylesheet><meta content="light dark" name=color-scheme><meta content=#087e96 name=theme-color><meta content="Learn how to effortlessly set up an automated deployment system for your application using GitHub Actions and FTP file transfer, ideal for repositories hosted on GitHub with access to cPanel management tools." name=description><meta content="Learn how to effortlessly set up an automated deployment system for your application using GitHub Actions and FTP file transfer, ideal for repositories hosted on GitHub with access to cPanel management tools." property=og:description><meta content="index, nofollow" name=robots><meta content="Automated Deployment with GitHub Actions and FTP" property=og:title><meta content=article property=og:type><meta content="https://ben-tannheimer.ch/blog/social_cards/blog.jpg?h=f375947d5b252b336e60" property=og:image><meta content=1400 property=og:image:width><meta content=800 property=og:image:height><meta content="https://ben-tannheimer.ch/blog/social_cards/blog.jpg?h=f375947d5b252b336e60" name=twitter:image><meta content=summary_large_image name=twitter:card><meta content=es_ES property=og:locale:alternate><link href=https://ben-tannheimer.ch/es/blog/deployment/ hreflang=es rel=alternate><meta content=https://ben-tannheimer.ch/blog/deployment/ property=og:url><meta content=~/ben property=og:site_name><meta content="default-src 'self';font-src 'self' data:;img-src 'self' https://* data:;style-src 'self';frame-src player.vimeo.com https://www.youtube-nocookie.com;connect-src 'self' gc.zgo.at;script-src 'self' gc.zgo.at 'self'" http-equiv=Content-Security-Policy><noscript><link href=https://ben-tannheimer.ch/no_js.css rel=stylesheet></noscript><script src=https://ben-tannheimer.ch/js/initializeTheme.min.js></script><script defer src=https://ben-tannheimer.ch/js/themeSwitcher.min.js></script><script async data-goatcounter=https://.goatcounter.com/count src=https://gc.zgo.at/count.js></script><body><header><nav class=navbar><div class=nav-title><a class=home-title href=https://ben-tannheimer.ch>~/ben</a></div><div class=nav-navs><ul><li><a class="nav-links no-hover-padding" href=https://ben-tannheimer.ch/blog/> blog </a><li><a class="nav-links no-hover-padding" href=https://ben-tannheimer.ch/archive/> archive </a><li><a class="nav-links no-hover-padding" href=https://ben-tannheimer.ch/tags/> tags </a><li><a class="nav-links no-hover-padding" href=https://ben-tannheimer.ch/projects/> projects </a><li class=language-switcher><details class=dropdown><summary aria-label="Language selection" title="Language selection" aria-haspopup=true role=button><div class=language-switcher-icon></div></summary> <div class=dropdown-content role=menu>English<a aria-label=Español href=https://ben-tannheimer.ch/es/blog/deployment/ lang=es role=menuitem>Español</a></div></details><li class="theme-switcher-wrapper js"><div aria-label="Toggle dark mode" title="Toggle dark/light mode" aria-pressed=false class=theme-switcher role=button></div><div aria-label="Reset mode to OS default" title="Reset mode to OS default" aria-hidden=true class=theme-resetter role=button></div></ul></div></nav></header><div class=content><main><article><h1 class=article-title>Automated Deployment with GitHub Actions and FTP</h1><ul class=meta><li>5th Nov 2023</li> • <li title="433 words">3 min read</li> • <li>Tags: <li><a href=https://ben-tannheimer.ch/tags/deployment/>Deployment</a>, <li><a href=https://ben-tannheimer.ch/tags/github/>GitHub</a>, <li><a href=https://ben-tannheimer.ch/tags/automation/>Automation</a></ul><ul class="meta last-updated"><li>Last updated on 5th Nov 2023</li> • <li><a href=https://github.com/bt18b/portfolio/commits/main/content/blog/deployment/index.md>See changes<small> ↗</small></a></ul><section class=body><p>Automating your deployment process can significantly simplify your workflow. This guide will walk you through the steps to establish an automated deployment system for your GitHub-hosted repositories, particularly when your hosting provider offers cPanel access.<h2 id=1-configuring-an-ftp-account-on-your-hosting-provider-s-website><a aria-label="Anchor link for: 1-configuring-an-ftp-account-on-your-hosting-provider-s-website" class="header-anchor no-hover-padding" href=#1-configuring-an-ftp-account-on-your-hosting-provider-s-website><span aria-hidden=true class=link-icon></span></a> 1. Configuring an FTP Account on Your Hosting Provider’s Website</h2><p>To begin, it’s crucial to create an FTP account on your hosting provider’s website. Specify the directory as “public_html” since this is where you want to deploy your application. Depending on the framework or library you are using, you may need to deploy the contents of different folders to the “public_html” folder on the server.<p>For instance, if you are using Zola, your project will be built in the “public” folder, and you will need to deploy the contents of this folder to the server. We’ll delve into this in more detail shortly.<h2 id=2-using-github-actions-to-set-up-the-deployment-system><a aria-label="Anchor link for: 2-using-github-actions-to-set-up-the-deployment-system" class="header-anchor no-hover-padding" href=#2-using-github-actions-to-set-up-the-deployment-system><span aria-hidden=true class=link-icon></span></a> 2. Using GitHub Actions to Set Up the Deployment System</h2><h3 id=2-1-adding-repository-secrets><a aria-label="Anchor link for: 2-1-adding-repository-secrets" class="header-anchor no-hover-padding" href=#2-1-adding-repository-secrets><span aria-hidden=true class=link-icon></span></a> 2.1. Adding Repository Secrets</h3><p>Before setting up the deployment system, we need to add the necessary variables for FTP file uploads to the repository. Follow these steps:<ul><li>Go to your repository and click on “Settings.”<li>Under “Secrets and Variables” > “Actions,” click on “New Repository Secret.”<li>Add three secrets: FTP_PASSWORD, FTP_SERVER, and FTP_USERNAME.</ul><h3 id=2-2-configuring-the-automated-action><a aria-label="Anchor link for: 2-2-configuring-the-automated-action" class="header-anchor no-hover-padding" href=#2-2-configuring-the-automated-action><span aria-hidden=true class=link-icon></span></a> 2.2. Configuring the Automated Action</h3><p>In your chosen repository, navigate to “Actions” > “New Workflow” > “Set up a workflow yourself.” This will open an interactive editor in your window. We recommend renaming your *.yml file to something like “deploy.yml” for clarity. Next, paste the following code into the editor:<pre class="language-yml z-code" data-lang=yml><code class=language-yml data-lang=yml><span class="z-source z-yaml"><span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">name</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Publish website to cPanel</span>
<span class="z-constant z-language z-boolean z-yaml">on</span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">push</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">branches</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
    <span class="z-punctuation z-definition z-block z-sequence z-item z-yaml">-</span> <span class="z-string z-unquoted z-plain z-out z-yaml">main</span>

<span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">jobs</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
  <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">FTP-Deploy-Action</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">name</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">FTP-Deploy-Action</span>
    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">runs-on</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">ubuntu-latest</span>
    <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">steps</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
    <span class="z-punctuation z-definition z-block z-sequence z-item z-yaml">-</span> <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">name</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">Checkout code</span>
      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">uses</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">actions/checkout@v2.1.0</span>
      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">with</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">fetch-depth</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-constant z-numeric z-integer z-decimal z-yaml">2</span>
    <span class="z-punctuation z-definition z-block z-sequence z-item z-yaml">-</span> <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">name</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">FTP-Deploy-Action</span>
      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">uses</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">SamKirkland/FTP-Deploy-Action@4.3.0</span>
      <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">with</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span>
        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">server</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">${{ secrets.FTP_SERVER }}</span>
        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">username</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">${{ secrets.FTP_USERNAME }}</span>
        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">password</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">${{ secrets.FTP_PASSWORD }}</span>
        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">protocol</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">ftp</span>
        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">port</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-constant z-numeric z-integer z-decimal z-yaml">21</span>
        <span class="z-string z-unquoted z-plain z-out z-yaml"><span class="z-entity z-name z-tag z-yaml">local-dir</span></span><span class="z-punctuation z-separator z-key-value z-mapping z-yaml">:</span> <span class="z-string z-unquoted z-plain z-out z-yaml">public/</span>
</span></code></pre><p>Please note the following:<ol><li>This YAML file will take the contents of the output directory of your application and upload them to the server via FTP. For Zola, the project is built in the “public/” directory. However, for your application, this path might be different.<li>Depending on whether your main branch is named “main” or “master,” you may need to adjust the “branches” section in the YAML file above.</ol><h2 id=3-push-to-the-main-branch><a aria-label="Anchor link for: 3-push-to-the-main-branch" class="header-anchor no-hover-padding" href=#3-push-to-the-main-branch><span aria-hidden=true class=link-icon></span></a> 3. Push to the Main Branch</h2><p>Once you’ve set up the deployment system, all you need to do is push new changes to your main branch. If everything is configured correctly, the YAML file should trigger an action that uploads your application to the server hosting it, making your deployment process hassle-free and automated.</section></article></main><span class=hidden id=copy-success> Copied! </span><span class=hidden id=copy-init> Copy code to clipboard </span><script defer src=https://ben-tannheimer.ch/js/copyCodeToClipboard.min.js></script></div><footer><section><nav class="socials nav-navs"><ul><li><a class="nav-links no-hover-padding social" href=https://ben-tannheimer.ch/atom.xml> <img alt=feed src=https://ben-tannheimer.ch/social_icons/rss.svg title=feed> </a><li class=js><a class="nav-links no-hover-padding social" data-encoded-email=YmVuLnRhbm5oZWltZXJAcHJvdG9uLm1l href=#><img alt=email src=https://ben-tannheimer.ch/social_icons/email.svg title=email> </a><li><a class="nav-links no-hover-padding social" rel=" me" href=https://github.com/bt18b> <img alt=github src=https://ben-tannheimer.ch/social_icons/github.svg title=github> </a></ul></nav><nav class=nav-navs></nav><div class=credits><small> Powered by <a href=https://www.getzola.org>Zola</a> & <a href=https://github.com/welpo/tabi>tabi</a> • <a href=https://github.com/bt18b/portfolio> Site source </a></small></div></section><script async src=https://ben-tannheimer.ch/js/decodeMail.min.js></script></footer>